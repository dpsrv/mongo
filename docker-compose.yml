services:
  mongo:
    container_name: dpsrv-mongo
    image: mongo:latest
    env_file: ${DPSRV_HOME}/rc/secrets/mongo/mongo.env
    ports:
      - '50017:27017'
    volumes:
      - ${DPSRV_HOME}/rc/secrets/mongo/conf/:/etc/mongo/
      - db:/data/db/
      - /etc/localtime:/etc/localtime:ro
    command: '--config /etc/mongo/mongod.conf'
    restart: unless-stopped
networks:
  default:
    name: dpsrv
    external: true
volumes:
  db:
